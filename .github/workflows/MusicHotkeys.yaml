name: Quick Build

on: [workflow_dispatch]  # Только ручной запуск

jobs:
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v4
      with:
        python-version: '3.12.3'

    - run: pip install pyinstaller pystray pillow keyboard pyautogui flet
    - run: pyinstaller MusicHotkeys.spec --clean --noconfirm
    - run: dir dist/  # Показываем содержимое папки

    - uses: actions/upload-artifact@v4
      with:
        name: Build-Output
        path: dist/